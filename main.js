/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => LastModifiedTimestampInStatusBar
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  lastModifiedTimestampFormat: "YYYY-MM-DD H:mm:ss",
  createdTimestampFormat: "YYYY-MM-DD H:mm:ss",
  lastModifiedPrepend: "Last Modified: ",
  createdPrepend: "Created: ",
  refreshIntervalSeconds: 2
};
var LastModifiedTimestampInStatusBar = class extends import_obsidian.Plugin {
  constructor() {
    super(...arguments);
    this.lastModifiedStatusBarItemEl = this.addStatusBarItem();
    this.createdStatusBarItemEl = this.addStatusBarItem();
  }
  updateLastModifiedDisplay() {
    if (this.lastModifiedTimestamp) {
      this.lastModifiedStatusBarItemEl.setText(this.settings.lastModifiedPrepend + this.lastModifiedTimestamp);
    }
  }
  updateCreatedDisplay() {
    if (this.createdTimestamp) {
      this.createdStatusBarItemEl.setText(this.settings.createdPrepend + this.createdTimestamp);
    }
  }
  updateCreatedTimestamp() {
    const file = this.app.workspace.getActiveFile();
    if (file) {
      const timestamp = (0, import_obsidian.moment)(file.stat.ctime).format(this.settings.createdTimestampFormat);
      this.createdTimestamp = timestamp;
    }
  }
  updateLastModifiedTimestamp(hook = null) {
    const file = this.app.workspace.getActiveFile();
    if (file) {
      const timestamp = (0, import_obsidian.moment)(file.stat.mtime).format(this.settings.lastModifiedTimestampFormat);
      const isTimestampChanged = timestamp != this.lastModifiedTimestamp;
      this.lastModifiedTimestamp = timestamp;
      if (hook)
        hook(isTimestampChanged);
    }
  }
  setLastModifiedRefreshInterval() {
    if (this.lastModifiedRefreshInterval !== null) {
      window.clearInterval(this.lastModifiedRefreshInterval);
    }
    this.lastModifiedRefreshInterval = window.setInterval(
      () => this.updateLastModifiedTimestamp((u) => {
        if (!u)
          return;
        this.updateLastModifiedDisplay();
      }),
      this.settings.refreshIntervalSeconds * 1e3
    );
    this.registerInterval(this.lastModifiedRefreshInterval);
  }
  async onload() {
    await this.loadSettings();
    this.setLastModifiedRefreshInterval();
    this.updateLastModifiedTimestamp();
    this.updateLastModifiedDisplay();
    this.updateCreatedTimestamp();
    this.updateCreatedDisplay();
    this.app.workspace.on("active-leaf-change", () => {
      this.updateLastModifiedTimestamp();
      this.updateLastModifiedDisplay();
      this.updateCreatedTimestamp();
      this.updateCreatedDisplay();
    });
    this.addSettingTab(new LastModifiedTimestampInStatusBarSettingTab(this.app, this));
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var LastModifiedTimestampInStatusBarSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h3", { text: "Last Modified Timestamp" });
    new import_obsidian.Setting(containerEl).setName("Timestamp Format").setDesc("Compatible with Moment.js formats, e.g. YYYY-MM-DD H:mm:ss").addText(
      (text) => text.setPlaceholder("Enter format").setValue(this.plugin.settings.lastModifiedTimestampFormat).onChange(async (value) => {
        this.plugin.settings.lastModifiedTimestampFormat = value;
        await this.plugin.saveSettings();
        this.plugin.updateLastModifiedTimestamp();
        this.plugin.updateLastModifiedDisplay();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Title in Status Bar").addText(
      (text) => text.setPlaceholder("Last Modified: ").setValue(this.plugin.settings.lastModifiedPrepend).onChange(async (value) => {
        this.plugin.settings.lastModifiedPrepend = value;
        await this.plugin.saveSettings();
        this.plugin.updateLastModifiedTimestamp();
        this.plugin.updateLastModifiedDisplay();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Timestamp Update Interval (in seconds)").setDesc("Note: Effectively, the minimum update interval seems to be 2s.").addText(
      (text) => text.setPlaceholder("2.0").setValue(this.plugin.settings.refreshIntervalSeconds.toString()).onChange(async (value) => {
        try {
          this.plugin.settings.refreshIntervalSeconds = +value;
          await this.plugin.saveSettings();
          this.plugin.setLastModifiedRefreshInterval();
        } finally {
        }
      })
    );
    containerEl.createEl("h3", { text: "Created Timestamp" });
    new import_obsidian.Setting(containerEl).setName("Timestamp Format").setDesc("Compatible with Moment.js formats, e.g. YYYY-MM-DD H:mm:ss").addText(
      (text) => text.setPlaceholder("Enter format").setValue(this.plugin.settings.createdTimestampFormat).onChange(async (value) => {
        this.plugin.settings.createdTimestampFormat = value;
        await this.plugin.saveSettings();
        this.plugin.updateCreatedTimestamp();
        this.plugin.updateCreatedDisplay();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Title in Status Bar").addText(
      (text) => text.setPlaceholder("Created: ").setValue(this.plugin.settings.createdPrepend).onChange(async (value) => {
        this.plugin.settings.createdPrepend = value;
        await this.plugin.saveSettings();
        this.plugin.updateCreatedTimestamp();
        this.plugin.updateCreatedDisplay();
      })
    );
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHtcblx0QXBwLFxuXHRQbHVnaW4sXG5cdFBsdWdpblNldHRpbmdUYWIsXG5cdFNldHRpbmcsXG5cdFRGaWxlLFxuXHRtb21lbnRcbn0gZnJvbSAnb2JzaWRpYW4nO1xuXG5cbnR5cGUgTGFzdE1vZGlmaWVkaW1lc3RhbXBDaGFuZ2VIb29rID0gKGlzVGltZXN0YW1wQ2hhbmdlZDogYm9vbGVhbikgPT4gdm9pZDtcbmludGVyZmFjZSBMYXN0TW9kaWZpZWRUaW1lc3RhbXBJblN0YXR1c0JhclNldHRpbmdzIHtcblx0Y3JlYXRlZFByZXBlbmQ6IHN0cmluZztcblx0Y3JlYXRlZFRpbWVzdGFtcEZvcm1hdDogc3RyaW5nO1xuXHRsYXN0TW9kaWZpZWRQcmVwZW5kOiBzdHJpbmc7XG5cdGxhc3RNb2RpZmllZFRpbWVzdGFtcEZvcm1hdDogc3RyaW5nO1xuXHRyZWZyZXNoSW50ZXJ2YWxTZWNvbmRzOiBudW1iZXI7XG59XG5cbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IExhc3RNb2RpZmllZFRpbWVzdGFtcEluU3RhdHVzQmFyU2V0dGluZ3MgPSB7XG5cdGxhc3RNb2RpZmllZFRpbWVzdGFtcEZvcm1hdDogJ1lZWVktTU0tREQgSDptbTpzcycsXG5cdGNyZWF0ZWRUaW1lc3RhbXBGb3JtYXQ6ICdZWVlZLU1NLUREIEg6bW06c3MnLFxuXHRsYXN0TW9kaWZpZWRQcmVwZW5kOiAnTGFzdCBNb2RpZmllZDogJyxcblx0Y3JlYXRlZFByZXBlbmQ6ICdDcmVhdGVkOiAnLFxuXHRyZWZyZXNoSW50ZXJ2YWxTZWNvbmRzOiAyLFxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMYXN0TW9kaWZpZWRUaW1lc3RhbXBJblN0YXR1c0JhciBleHRlbmRzIFBsdWdpbiB7XG5cdHNldHRpbmdzOiBMYXN0TW9kaWZpZWRUaW1lc3RhbXBJblN0YXR1c0JhclNldHRpbmdzO1xuXG5cdGNyZWF0ZWRUaW1lc3RhbXA6IHN0cmluZyB8IG51bGw7XG5cdGxhc3RNb2RpZmllZFRpbWVzdGFtcDogc3RyaW5nIHwgbnVsbDtcblx0bGFzdE1vZGlmaWVkUmVmcmVzaEludGVydmFsOiBudW1iZXIgfCBudWxsO1xuXHRcblx0bGFzdE1vZGlmaWVkU3RhdHVzQmFySXRlbUVsID0gdGhpcy5hZGRTdGF0dXNCYXJJdGVtKCk7XG5cdGNyZWF0ZWRTdGF0dXNCYXJJdGVtRWwgPSB0aGlzLmFkZFN0YXR1c0Jhckl0ZW0oKTtcblxuXHR1cGRhdGVMYXN0TW9kaWZpZWREaXNwbGF5KCk6IHZvaWQge1xuXHRcdGlmICh0aGlzLmxhc3RNb2RpZmllZFRpbWVzdGFtcCkge1xuXHRcdFx0dGhpcy5sYXN0TW9kaWZpZWRTdGF0dXNCYXJJdGVtRWwuc2V0VGV4dCh0aGlzLnNldHRpbmdzLmxhc3RNb2RpZmllZFByZXBlbmQgKyB0aGlzLmxhc3RNb2RpZmllZFRpbWVzdGFtcCk7XG5cdFx0fVxuXHR9XG5cblx0dXBkYXRlQ3JlYXRlZERpc3BsYXkoKTogdm9pZCB7XG5cdFx0aWYgKHRoaXMuY3JlYXRlZFRpbWVzdGFtcCkge1xuXHRcdFx0dGhpcy5jcmVhdGVkU3RhdHVzQmFySXRlbUVsLnNldFRleHQodGhpcy5zZXR0aW5ncy5jcmVhdGVkUHJlcGVuZCArIHRoaXMuY3JlYXRlZFRpbWVzdGFtcCk7XG5cdFx0fVxuXHR9XG5cblx0dXBkYXRlQ3JlYXRlZFRpbWVzdGFtcCgpOiB2b2lkIHtcblx0XHRjb25zdCBmaWxlOiBURmlsZSB8IG51bGwgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpXG5cdFx0aWYgKGZpbGUpIHtcblx0XHRcdGNvbnN0IHRpbWVzdGFtcCA9IG1vbWVudChmaWxlLnN0YXQuY3RpbWUpXG5cdFx0XHRcdC5mb3JtYXQodGhpcy5zZXR0aW5ncy5jcmVhdGVkVGltZXN0YW1wRm9ybWF0KTtcblxuXHRcdFx0dGhpcy5jcmVhdGVkVGltZXN0YW1wID0gdGltZXN0YW1wO1xuXHRcdH1cblx0fVxuXG5cblx0dXBkYXRlTGFzdE1vZGlmaWVkVGltZXN0YW1wKGhvb2s6IExhc3RNb2RpZmllZGltZXN0YW1wQ2hhbmdlSG9vayB8IG51bGwgPSBudWxsKTogdm9pZCB7XG5cdFx0Y29uc3QgZmlsZTogVEZpbGUgfCBudWxsID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKVxuXHRcdGlmIChmaWxlKSB7XG5cdFx0XHRjb25zdCB0aW1lc3RhbXAgPSBtb21lbnQoZmlsZS5zdGF0Lm10aW1lKVxuXHRcdFx0XHQuZm9ybWF0KHRoaXMuc2V0dGluZ3MubGFzdE1vZGlmaWVkVGltZXN0YW1wRm9ybWF0KTtcblxuXHRcdFx0Y29uc3QgaXNUaW1lc3RhbXBDaGFuZ2VkID0gdGltZXN0YW1wICE9IHRoaXMubGFzdE1vZGlmaWVkVGltZXN0YW1wO1xuXHRcdFx0dGhpcy5sYXN0TW9kaWZpZWRUaW1lc3RhbXAgPSB0aW1lc3RhbXA7XG5cblx0XHRcdGlmIChob29rKSBob29rKGlzVGltZXN0YW1wQ2hhbmdlZClcblx0XHR9XG5cdH1cblxuXHRzZXRMYXN0TW9kaWZpZWRSZWZyZXNoSW50ZXJ2YWwoKSB7XG5cdFx0aWYgKHRoaXMubGFzdE1vZGlmaWVkUmVmcmVzaEludGVydmFsICE9PSBudWxsKSB7XG5cdFx0XHR3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmxhc3RNb2RpZmllZFJlZnJlc2hJbnRlcnZhbCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5sYXN0TW9kaWZpZWRSZWZyZXNoSW50ZXJ2YWwgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoXG5cdFx0XHQoKSA9PiB0aGlzLnVwZGF0ZUxhc3RNb2RpZmllZFRpbWVzdGFtcCgodSkgPT4ge1xuXHRcdFx0XHRpZiAoIXUpIHJldHVybjtcblx0XHRcdFx0dGhpcy51cGRhdGVMYXN0TW9kaWZpZWREaXNwbGF5KCk7XG5cdFx0XHR9KSxcblx0XHRcdHRoaXMuc2V0dGluZ3MucmVmcmVzaEludGVydmFsU2Vjb25kcyoxMDAwLFxuXHRcdCk7XG5cblx0XHR0aGlzLnJlZ2lzdGVySW50ZXJ2YWwodGhpcy5sYXN0TW9kaWZpZWRSZWZyZXNoSW50ZXJ2YWwpO1xuXHR9XG5cblx0YXN5bmMgb25sb2FkKCkge1xuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cblx0XHQvLyBsYXN0IG1vZGlmaWVkIHRpbWVzdGFtcFxuXHRcdHRoaXMuc2V0TGFzdE1vZGlmaWVkUmVmcmVzaEludGVydmFsKCk7XG5cdFx0dGhpcy51cGRhdGVMYXN0TW9kaWZpZWRUaW1lc3RhbXAoKVxuXHRcdHRoaXMudXBkYXRlTGFzdE1vZGlmaWVkRGlzcGxheSgpXG5cblx0XHQvLyBjcmVhdGVkIHRpbWVzdGFtcFxuXHRcdHRoaXMudXBkYXRlQ3JlYXRlZFRpbWVzdGFtcCgpO1xuXHRcdHRoaXMudXBkYXRlQ3JlYXRlZERpc3BsYXkoKTtcblxuXHRcdHRoaXMuYXBwLndvcmtzcGFjZS5vbignYWN0aXZlLWxlYWYtY2hhbmdlJywgKCkgPT4ge1xuXHRcdFx0Ly8gbGFzdCBtb2RpZmllZCB0aW1lc3RhbXBcblx0XHRcdHRoaXMudXBkYXRlTGFzdE1vZGlmaWVkVGltZXN0YW1wKCk7XG5cdFx0XHR0aGlzLnVwZGF0ZUxhc3RNb2RpZmllZERpc3BsYXkoKVxuXG5cdFx0XHQvLyBjcmVhdGVkIHRpbWVzdGFtcFxuXHRcdFx0dGhpcy51cGRhdGVDcmVhdGVkVGltZXN0YW1wKCk7XG5cdFx0XHR0aGlzLnVwZGF0ZUNyZWF0ZWREaXNwbGF5KCk7XG5cdFx0fSk7XG5cblx0XHR0aGlzLmFkZFNldHRpbmdUYWIobmV3IExhc3RNb2RpZmllZFRpbWVzdGFtcEluU3RhdHVzQmFyU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xuXHR9XG5cblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xuXHR9XG5cblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG5cdH1cbn1cblxuY2xhc3MgTGFzdE1vZGlmaWVkVGltZXN0YW1wSW5TdGF0dXNCYXJTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG5cdHBsdWdpbjogTGFzdE1vZGlmaWVkVGltZXN0YW1wSW5TdGF0dXNCYXI7XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogTGFzdE1vZGlmaWVkVGltZXN0YW1wSW5TdGF0dXNCYXIpIHtcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdH1cblxuXHRkaXNwbGF5KCk6IHZvaWQge1xuXHRcdGNvbnN0IHtjb250YWluZXJFbH0gPSB0aGlzO1xuXG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcblxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMycsIHt0ZXh0OiAnTGFzdCBNb2RpZmllZCBUaW1lc3RhbXAnfSk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdUaW1lc3RhbXAgRm9ybWF0Jylcblx0XHRcdC5zZXREZXNjKCdDb21wYXRpYmxlIHdpdGggTW9tZW50LmpzIGZvcm1hdHMsIGUuZy4gWVlZWS1NTS1ERCBIOm1tOnNzJylcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ0VudGVyIGZvcm1hdCcpXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYXN0TW9kaWZpZWRUaW1lc3RhbXBGb3JtYXQpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYXN0TW9kaWZpZWRUaW1lc3RhbXBGb3JtYXQgPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi51cGRhdGVMYXN0TW9kaWZpZWRUaW1lc3RhbXAoKTtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi51cGRhdGVMYXN0TW9kaWZpZWREaXNwbGF5KCk7XG5cdFx0XHRcdH0pXG5cdFx0XHQpXG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdUaXRsZSBpbiBTdGF0dXMgQmFyJylcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ0xhc3QgTW9kaWZpZWQ6ICcpXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYXN0TW9kaWZpZWRQcmVwZW5kKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubGFzdE1vZGlmaWVkUHJlcGVuZCA9IHZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnVwZGF0ZUxhc3RNb2RpZmllZFRpbWVzdGFtcCgpO1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnVwZGF0ZUxhc3RNb2RpZmllZERpc3BsYXkoKTtcblx0XHRcdFx0fSlcblx0XHRcdCk7XG5cblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ1RpbWVzdGFtcCBVcGRhdGUgSW50ZXJ2YWwgKGluIHNlY29uZHMpJylcblx0XHRcdC5zZXREZXNjKCdOb3RlOiBFZmZlY3RpdmVseSwgdGhlIG1pbmltdW0gdXBkYXRlIGludGVydmFsIHNlZW1zIHRvIGJlIDJzLicpXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCcyLjAnKVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucmVmcmVzaEludGVydmFsU2Vjb25kcy50b1N0cmluZygpKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnJlZnJlc2hJbnRlcnZhbFNlY29uZHMgPSArdmFsdWU7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldExhc3RNb2RpZmllZFJlZnJlc2hJbnRlcnZhbCgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRmaW5hbGx5IHt9XG5cdFx0XHRcdH0pXG5cdFx0XHQpO1xuXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2gzJywge3RleHQ6ICdDcmVhdGVkIFRpbWVzdGFtcCd9KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ1RpbWVzdGFtcCBGb3JtYXQnKVxuXHRcdFx0LnNldERlc2MoJ0NvbXBhdGlibGUgd2l0aCBNb21lbnQuanMgZm9ybWF0cywgZS5nLiBZWVlZLU1NLUREIEg6bW06c3MnKVxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XG5cdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignRW50ZXIgZm9ybWF0Jylcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmNyZWF0ZWRUaW1lc3RhbXBGb3JtYXQpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5jcmVhdGVkVGltZXN0YW1wRm9ybWF0ID0gdmFsdWU7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4udXBkYXRlQ3JlYXRlZFRpbWVzdGFtcCgpO1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnVwZGF0ZUNyZWF0ZWREaXNwbGF5KCk7XG5cdFx0XHRcdH0pXG5cdFx0XHQpXG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdUaXRsZSBpbiBTdGF0dXMgQmFyJylcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ0NyZWF0ZWQ6ICcpXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5jcmVhdGVkUHJlcGVuZClcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmNyZWF0ZWRQcmVwZW5kID0gdmFsdWU7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4udXBkYXRlQ3JlYXRlZFRpbWVzdGFtcCgpO1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnVwZGF0ZUNyZWF0ZWREaXNwbGF5KCk7XG5cdFx0XHRcdH0pXG5cdFx0XHQpO1xuXG5cdH1cbn1cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxzQkFPTztBQVlQLElBQU0sbUJBQTZEO0FBQUEsRUFDbEUsNkJBQTZCO0FBQUEsRUFDN0Isd0JBQXdCO0FBQUEsRUFDeEIscUJBQXFCO0FBQUEsRUFDckIsZ0JBQWdCO0FBQUEsRUFDaEIsd0JBQXdCO0FBQ3pCO0FBRUEsSUFBcUIsbUNBQXJCLGNBQThELHVCQUFPO0FBQUEsRUFBckU7QUFBQTtBQU9DLHVDQUE4QixLQUFLLGlCQUFpQjtBQUNwRCxrQ0FBeUIsS0FBSyxpQkFBaUI7QUFBQTtBQUFBLEVBRS9DLDRCQUFrQztBQUNqQyxRQUFJLEtBQUssdUJBQXVCO0FBQy9CLFdBQUssNEJBQTRCLFFBQVEsS0FBSyxTQUFTLHNCQUFzQixLQUFLLHFCQUFxQjtBQUFBLElBQ3hHO0FBQUEsRUFDRDtBQUFBLEVBRUEsdUJBQTZCO0FBQzVCLFFBQUksS0FBSyxrQkFBa0I7QUFDMUIs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S0FBSyxPQUFPLFNBQVMsbUJBQW1CLEVBQ2pELFNBQVMsT0FBTyxVQUFVO0FBQzFCLGFBQUssT0FBTyxTQUFTLHNCQUFzQjtBQUMzQyxjQUFNLEtBQUssT0FBTyxhQUFhO0FBQy9CLGFBQUssT0FBTyw0QkFBNEI7QUFDeEMsYUFBSyxPQUFPLDBCQUEwQjtBQUFBLE1BQ3ZDLENBQUM7QUFBQSxJQUNGO0FBR0QsUUFBSSx3QkFBUSxXQUFXLEVBQ3JCLFFBQVEsd0NBQXdDLEVBQ2hELFFBQVEsZ0VBQWdFLEVBQ3hFO0FBQUEsTUFBUSxVQUFRLEtBQ2YsZUFBZSxLQUFLLEVBQ3BCLFNBQVMsS0FBSyxPQUFPLFNBQVMsdUJBQXVCLFNBQVMsQ0FBQyxFQUMvRCxTQUFTLE9BQU8sVUFBVTtBQUMxQixZQUFJO0FBQ0gsZUFBSyxPQUFPLFNBQVMseUJBQXlCLENBQUM7QUFDL0MsZ0JBQU0sS0FBSyxPQUFPLGFBQWE7QUFDL0IsZUFBSyxPQUFPLCtCQUErQjtBQUFBLFFBQzVDLFVBQ0E7QUFBQSxRQUFTO0FBQUEsTUFDVixDQUFDO0FBQUEsSUFDRjtBQUVELGdCQUFZLFNBQVMsTUFBTSxFQUFDLE1BQU0sb0JBQW1CLENBQUM7QUFFdEQsUUFBSSx3QkFBUSxXQUFXLEVBQ3JCLFFBQVEsa0JBQWtCLEVBQzFCLFFBQVEsNERBQTRELEVBQ3BFO0FBQUEsTUFBUSxVQUFRLEtBQ2YsZUFBZSxjQUFjLEVBQzdCLFNBQVMsS0FBSyxPQUFPLFNBQVMsc0JBQXNCLEVBQ3BELFNBQVMsT0FBTyxVQUFVO0FBQzFCLGFBQUssT0FBTyxTQUFTLHlCQUF5QjtBQUM5QyxjQUFNLEtBQUssT0FBTyxhQUFhO0FBQy9CLGFBQUssT0FBTyx1QkFBdUI7QUFDbkMsYUFBSyxPQUFPLHFCQUFxQjtBQUFBLE1BQ2xDLENBQUM7QUFBQSxJQUNGO0FBRUQsUUFBSSx3QkFBUSxXQUFXLEVBQ3JCLFFBQVEscUJBQXFCLEVBQzdCO0FBQUEsTUFBUSxVQUFRLEtBQ2YsZUFBZSxXQUFXLEVBQzFCLFNBQVMsS0FBSyxPQUFPLFNBQVMsY0FBYyxFQUM1QyxTQUFTLE9BQU8sVUFBVTtBQUMxQixhQUFLLE9BQU8sU0FBUyxpQkFBaUI7QUFDdEMsY0FBTSxLQUFLLE9BQU8sYUFBYTtBQUMvQixhQUFLLE9BQU8sdUJBQXVCO0FBQ25DLGFBQUssT0FBTyxxQkFBcUI7QUFBQSxNQUNsQyxDQUFDO0FBQUEsSUFDRjtBQUFBLEVBRUY7QUFDRDsiLAogICJuYW1lcyI6IFtdCn0K
